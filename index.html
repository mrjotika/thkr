<!DOCTYPE html>
<html>
<head>
<title>Random Numbers</title>
</head>
<body>

<p id="randomNumbers"></p>

<script>
function generateRandomNumbers() {
  let numbers = [];
  for (let i = 0; i < 6; i++) {
    numbers.push(Math.floor(Math.random() * 100) + 1);
  }
  return numbers;
}

function displayRandomNumbers() {
  let displayElement = document.getElementById("randomNumbers");
  let storedNumbers = localStorage.getItem("randomNumbers");
  let currentNumbers = storedNumbers ? JSON.parse(storedNumbers) : generateRandomNumbers();
  displayElement.innerHTML = currentNumbers.join("");
  localStorage.setItem("randomNumbers", JSON.stringify(currentNumbers));
}

displayRandomNumbers();

// Update at 23h every evening
function updateAt23() {
  let now = new Date();
  let scheduledTime = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 0, 0); // Today at 23h
  let timeToSchedule = scheduledTime - now;
  if (timeToSchedule < 0) {
    timeToSchedule += 86400000; // If it's already past 23h, set it for 23h tomorrow
  }
  setTimeout(function() {
    localStorage.removeItem("randomNumbers");
    displayRandomNumbers();
    updateAt23();
  }, timeToSchedule);
}

updateAt23();

// Get current online time
fetch('http://worldtimeapi.org/api/timezone/Asia/Bangkok') 
  .then(response => response.json())
  .then(data => {
    let currentDateTime = new Date(data.datetime);
    console.log(currentDateTime);
  })
  .catch(error => console.error('Error:', error));

</script>

</body>
</html>
