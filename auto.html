<html>
<head>
  <title>Chào mừng</title>
</head>
<body>
  <h1>Chào mừng</h1>

  <script>
    // Chờ thư viện được tải xong
    document.addEventListener("DOMContentLoaded", function() {
      // Lấy IP của người dùng từ ipinfo.io
      fetch('https://ipinfo.io/json')
        .then(response => response.json())
        .then(data => {
          var ip = data.ip;
          // Lấy danh sách các quốc gia và link tương ứng
          var countries = [
            {
              "code": "vn",
              "link": "https://platinmods.com/forums/shared-android-mods-from-everywhere.6/"
            },
            {
              "code": "tw",
              "link": "https://mrjotika.github.io/thkr"
            },
            {
              "code": "in",
              "link": "https://mrjotika.github.io/thkr/30days.html"
            },
            {
              "code": "id",
              "link": "https://thkr.pythonanywhere.com"
            },
            {
              "code": "th",
              "link": "https://ithkr.pythonanywhere.com"
            }
          ];

          // Tìm link tương ứng với IP
          var link;
          for (var i = 0; i < countries.length; i++) {
            console.log("Country Code from List: ", countries[i].code);
            console.log("Country Code from IP: ", ip.substr(0, 2));
            if (countries[i].code.toLowerCase() === ip.substr(0, 2).toLowerCase()) {
              link = countries[i].link;
              // Xử lý khi điều kiện đúng
              console.log('Tìm thấy quốc gia:', countries[i].code);
              // Thoát khỏi vòng lặp nếu đã tìm thấy
              break;
            }
          }

          // Nếu không tìm thấy link tương ứng thì truy cập link English
          if (!link) {
            link = "https://bard.google.com/chat/2e4b876c3644fd6f";
          }

          // Truy cập vào link
          window.location.href = link;
        });
    });
  </script>
</body>
</html>
